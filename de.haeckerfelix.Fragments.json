{
    "app-id":"de.haeckerfelix.Fragments",
    "runtime":"org.gnome.Platform",
    "runtime-version":"43",
    "sdk":"org.gnome.Sdk",
    "sdk-extensions":[
        "org.freedesktop.Sdk.Extension.rust-stable"
    ],
    "command":"fragments",
    "finish-args":[
        "--filesystem=host",
        "--device=dri",
        "--share=network",
        "--share=ipc",
        "--socket=fallback-x11",
        "--socket=wayland",
        "--talk-name=org.freedesktop.FileManager1",
        "--talk-name=org.freedesktop.secrets",
        "--env=OPENSSL_CONF=/app/openssl.cnf",
        "--env=RUST_BACKTRACE=1",
        "--env=RUST_LOG=fragments=debug,transmission_client=debug,transmission_gobject=debug",
        "--env=CURL_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt"
    ],
    "build-options":{
        "append-path":"/usr/lib/sdk/rust-stable/bin"
    },
    "cleanup":[
        "/include",
        "/lib/pkgconfig",
        "/man",
        "/share/doc",
        "/share/gtk-doc",
        "/share/man",
        "/share/pkgconfig",
        "*.la",
        "*.a"
    ],
    "modules":[
        "shared-modules/intltool/intltool-0.51.json",
        {
            "name":"libevent",
            "sources":[
                {
                    "type":"archive",
                    "url":"https://github.com/transmission/libevent/archive/release-2.1.8-stable.tar.gz",
                    "sha256":"316ddb401745ac5d222d7c529ef1eada12f58f6376a66c1118eee803cb70f83d"
                }
            ]
        },
        {
            "name":"transmission",
            "buildsystem":"autotools",
            "config-opts":[
                "--without-gtk",
                "--without-cli",
                "--enable-daemon"
            ],
            "post-install": [
                "install -D openssl.cnf /app/openssl.cnf"
            ],
            "sources":[
                {
                    "type":"archive",
                    "url":"https://github.com/transmission/transmission/releases/download/3.00/transmission-3.00.tar.xz",
                    "sha256":"9144652fe742f7f7dd6657716e378da60b751aaeda8bef8344b3eefc4db255f2"
                },
                {
                    "type":"patch",
                    "path":"transmission_pdeathsig.patch"
                },
                {
                    "type": "file",
                    "path": "openssl.cnf"
                }
            ]
        },
        {
            "name":"fragments",
            "buildsystem":"meson",
            "sources":[
                {
                    "type":"archive",
                    "url":"https://gitlab.gnome.org/World/Fragments/uploads/bc6347513638efaf1a9e095ffa4c23ca/fragments-2.1.tar.xz",
                    "sha256":"7f339637d6368dbbea394e897e6034c28525bb0110515600144214692417845b"
                }
            ]
        }
    ]
}
